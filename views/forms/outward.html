<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New Outward Correspondence Entry</title>
    <link rel="stylesheet" href="css/form.css" />
  </head>

  <body>
    <div class="inward-container">
      <h2 id="formTitle">New Outward Correspondence Entry</h2>


      <form id="outwardForm" action="/outward/add" method="POST">
        
        <!-- LEFT COLUMN -->
        <div class="left-column">
          <label>Inward No (Reference):</label>
          <input
            type="text"
            name="inward_no"
            maxlength="100"
            placeholder="Enter Inward No"
          />

          <!-- Date -->
          <label>* Date of Despatch:</label>
          <input type="date" name="date_of_despatch" id="outwardDate" required />
          <span id="err_date" class="error"></span>

          <label>Month :</label>
          <input type="text" name="month" id="month" readonly />

          <label>Year :</label>
          <input type="text" name="year" id="year" readonly />

          <!-- Office -->
          <label>* Reply From (Office):</label>
          <select name="reply_from" id="reply_from" required>
            <option value="">Select Office</option>
            <option value="Silchar">Silchar</option>
            <option value="Guwahati">Guwahati</option>
          </select>
          <span id="err_office" class="error"></span>

          <!-- Receiver Info -->
          <label>* Name of Receiver:</label>
          <input
            type="text"
            name="name_of_receiver"
            id="name_of_receiver"
            placeholder="Enter Receiver Name"
            maxlength="100"
            required
            pattern="[A-Za-z .]+"
          />
          <span id="err_receiver_name" class="error"></span>

          <label>Address of Receiver:</label>
          <input
            type="text"
            name="address_of_receiver"
            maxlength="255"
            placeholder="Enter Address"
          />

          <label>Receiver City:</label>
          <input
            type="text"
            name="receiver_city"
            maxlength="100"
            placeholder="Enter City"
          />
          <span id="err_receiver_city" class="error"></span>

          <label>* Receiver State:</label>
          <select name="receiver_state" id="receiverState" required>
            <option value="">Select State</option>

            <!-- Region A -->
            <option>Bihar</option>
            <option>Haryana</option>
            <option>Himachal Pradesh</option>
            <option>Madhya Pradesh</option>
            <option>Rajasthan</option>
            <option>Uttar Pradesh</option>
            <option>Jharkhand</option>
            <option>Chhattisgarh</option>
            <option>Uttarakhand</option>
            <option>Delhi</option>
            <option>Andaman & Nicobar Islands</option>

            <!-- Region B -->
            <option>Gujarat</option>
            <option>Maharashtra</option>
            <option>Punjab</option>
            <option>Chandigarh</option>
            <option>Daman & Diu</option>
            <option>Dadra & Nagar Haveli</option>

            <!-- Region C -->
            <option>Andhra Pradesh</option>
            <option>Arunachal Pradesh</option>
            <option>Assam</option>
            <option>Goa</option>
            <option>Kerala</option>
            <option>Tamil Nadu</option>
            <option>West Bengal</option>
            <option>Karnataka</option>
            <option>Odisha</option>
            <option>Telangana</option>
            <option>Sikkim</option>
            <option>Tripura</option>
            <option>Meghalaya</option>
            <option>Mizoram</option>
            <option>Nagaland</option>
            <option>Manipur</option>
            <option>Puducherry</option>
            <option>Lakshadweep</option>
            <option>Ladakh</option>
            <option>Jammu & Kashmir</option>
          </select>

          <label>* Receiver Pin:</label>
          <input
            type="text"
            name="receiver_pin"
            id="receiver_pin"
            maxlength="6"
            placeholder="Enter 6-digit Pin"
            pattern="[0-9]{6}"
            required
          />
          <span id="err_pin" class="error"></span>

          <label>Receiver Region :</label>
          <input
            type="text"
            name="receiver_region"
            id="receiverRegion"
            placeholder="(A/B/C)"
            readonly
          />

          <!-- <label>Receiver Organization Type:</label>
          <select name="receiver_org_type">
            <option value="">Select Type</option>
            <option>Central</option>
            <option>State</option>
            <option>Private</option>
            <option>Individual</option>
          </select> -->

        </div>

        <!-- RIGHT COLUMN -->
        <div class="right-column">

          <label>* Outward No. :</label>
          <input
            type="text"
            name="outward_no"
            id="outwardNo"
            readonly
            placeholder="Generated by Server"
          />
          <label>* Receiver Organization Type:</label>
          <select name="receiver_org_type" required>
            <option value="">Select Type</option>
            <option>Central</option>
            <option>State</option>
            <option>Private</option>
            <option>Individual</option>
          </select>

          <label>* Type of Document:</label>
          <select name="type_of_document" id="type_of_document" required>
            <option value="">Select Document Type</option>
            <option>Letter</option>
            <option>Bill</option>
            <option>Other Document</option>
          </select>
          <span id="err_doc_type" class="error"></span>

          <!-- OTHER DOCUMENT (OUTWARD) -->
        <div id="otherDocWrapperOutward" style="display:none;">
          <label>* Specify Other Document:</label>
          <input
            type="text"
            name="other_document"
            id="other_document_outward"
            placeholder="Enter document type"
            maxlength="100"
          />
          <span id="err_other_document_outward" class="error"></span>
        </div>


          <label>* Language of Document:</label>
          <select name="language_of_document" required>
            <option value="">Select Language</option>
            <option>English</option>
            <option>Hindi</option>
            <option>Bilingual</option>
          </select>

          <label>Count:</label>
          <input
            type="number"
            name="count"
            min="0"
            max="9999"
            placeholder="Number of Copies"
          />
          <span id="err_count" class="error"></span>


          <label>Reply Issued By:</label>
          <input
            type="text"
            name="reply_issued_by"
            maxlength="100"
            placeholder="Name of Person Signing the Letter"
          />

          <label>* Reply Sent Date:</label>
          <input type="date" name="reply_sent_date" required/>

          <label>Reply Reference No.:</label>
          <input
            type="text"
            name="reply_ref_no"
            maxlength="100"
            placeholder="Reference Number"
          />
          <span id="err_reply_ref_no" class="error"></span>

          <label>*Reply Sent By:</label>
          <select name="reply_sent_by" required>
            <option value="">Select Mode</option>
            <option>Speed Post</option>
            <option>Email</option>
          </select>

          <label>* Reply Sent In:</label>
          <select name="reply_sent_in" required>
            <option value="">Select Language</option>
            <option>English</option>
            <option>Hindi</option>
            <option>Bilingual</option>
          </select>

          <label>Reply Count:</label>
          <input
            type="number"
            name="reply_count"
            min="0"
            max="9999"
            placeholder="Number of Replies"
          />
          <span id="err_reply_count" class="error"></span>

        </div>

        <div class="button-container">
          <button type="submit">Save Outward Entry</button>
        </div>
      </form>
    </div>

    <script src="js/form-validation.js"></script>

    <script>
      fetch("/session-info")
        .then(res => res.json())
        .then(data => {
          if (data?.user?.group) {
            const title = document.getElementById("formTitle");
            if (title) {
              title.textContent =
                `New Outward Correspondence Entry (${data.user.group})`;
            }
          }
        })
        .catch(() => {
          // silently ignore if session expired
        });
    </script>


  </body>
</html>
