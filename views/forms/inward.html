<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>New Inward Correspondence Entry</title>
    <link rel="stylesheet" href="css/form.css" />

  </head>

  <body>
    <div class="inward-container">
      <h2 id="formTitle">New Inward Correspondence Entry</h2>

      <form id="inwardForm" action="/inward/add" method="POST">
        <!-- LEFT COLUMN -->
        <div class="left-column">
          <label>* Inward Date:</label>
          <input type="date" name="date_of_receipt" id="inwardDate" required />
          <span id="err_date" class="error"></span>

          <label>Month :</label>
          <input type="text" name="month" id="month" readonly />

          <label>Year :</label>
          <input type="text" name="year" id="year" readonly />

          <label>* Office (Received In):</label>
          <select name="received_in" id="received_in" required>
            <option value="">Select Office</option>
            <option value="Silchar">Silchar</option>
            <option value="Guwahati">Guwahati</option>
          </select>
          <span id="err_office" class="error"></span>

          <label>* Name of Sender:</label>
          <input
            type="text"
            name="name_of_sender"
            id="name_of_sender"
            placeholder="Enter Sender Name"
            maxlength="100"
            required
            pattern="[A-Za-z .]+"
          />
          <span id="err_name_of_sender" class="error"></span>

          <label>Address of Sender:</label>
          <input
            type="text"
            name="address_of_sender"
            maxlength="255"
            placeholder="Enter Address"
          />

          <label>City:</label>
          <input
            type="text"
            name="sender_city"
            maxlength="100"
            placeholder="Enter City"
          />
          <span id="err_sender_city" class="error"></span>

          <label>State:</label>
          <select name="sender_state" id="senderState">
            <option value="">Select State</option>

            <!-- Region A -->
            <option>Bihar</option>
            <option>Haryana</option>
            <option>Himachal Pradesh</option>
            <option>Madhya Pradesh</option>
            <option>Rajasthan</option>
            <option>Uttar Pradesh</option>
            <option>Jharkhand</option>
            <option>Chhattisgarh</option>
            <option>Uttarakhand</option>
            <option>Delhi</option>
            <option>Andaman & Nicobar Islands</option>

            <!-- Region B -->
            <option>Gujarat</option>
            <option>Maharashtra</option>
            <option>Punjab</option>
            <option>Chandigarh</option>
            <option>Daman & Diu</option>
            <option>Dadra & Nagar Haveli</option>

            <!-- Region C -->
            <option>Andhra Pradesh</option>
            <option>Arunachal Pradesh</option>
            <option>Assam</option>
            <option>Goa</option>
            <option>Kerala</option>
            <option>Tamil Nadu</option>
            <option>West Bengal</option>
            <option>Karnataka</option>
            <option>Odisha</option>
            <option>Telangana</option>
            <option>Sikkim</option>
            <option>Tripura</option>
            <option>Meghalaya</option>
            <option>Mizoram</option>
            <option>Nagaland</option>
            <option>Manipur</option>
            <option>Puducherry</option>
            <option>Lakshadweep</option>
            <option>Ladakh</option>
            <option>Jammu & Kashmir</option>
          </select>

          <label>Pin Code:</label>
          <input
            type="text"
            name="sender_pin"
            id="sender_pin"
            maxlength="6"
            placeholder="Enter 6-digit Pin"
            pattern="[0-9]{6}"
            required
          />
          <span id="err_pin" class="error"></span>

          <label>Region :</label>
          <input
            type="text"
            name="sender_region"
            id="senderRegion"
            placeholder="(A/B/C)"
            readonly
          />

          <label>Sender Organization Type:</label>
          <select name="sender_org_type">
            <option value="">Select Type</option>
            <option>Central</option>
            <option>State</option>
            <option>Private</option>
            <option>Individual</option>
          </select>
        </div>

        <!-- RIGHT COLUMN -->
        <div class="right-column">
          <label>* Inward No. :</label>
          <input
            type="text"
            id="inwardNo"
            readonly
            placeholder="Generated by System"
          />

          <label>* Type of Document:</label>
          <select name="type_of_document" id="type_of_document" required>
            <option value="">Select Document Type</option>
            <option>Letter</option>
            <option>Bill</option>
            <option>Other Document</option>
          </select> 
          <span id="err_doc_type" class="error"></span>

          <!--  NEW FIELD (HIDDEN BY DEFAULT) -->
        <div id="otherDocWrapper" style="display:none;">
          <label>* Specify Other Document:</label>
          <input
            type="text"
            name="other_document"
            id="other_document"
            placeholder="Enter document type"
            maxlength="100"
          />
          <span id="err_other_document" class="error"></span>
        </div>

          <label>Language of Document:</label>
          <select name="language_of_document">
            <option value="">Select Language</option>
            <option>English</option>
            <option>Hindi</option>
            <option>Bilingual</option>
          </select>

          <label>Count:</label>
          <input
            type="number"
            name="count"
            min="0"
            max="9999"
            placeholder="Number of Copies"
          />
          <span id="err_count" class="error"></span>

          <label>Remarks:</label>
          <select name="remarks">
            <option value="">Select Remark</option>
            <option>Action</option>
            <option>Information</option>
          </select>

          <label>Issued To (Employee Name):</label>
          <input
            type="text"
            name="issued_to"
            maxlength="100"
            placeholder="Enter Employee Name"
          />
          <span id="err_issued_to" class="error"></span>

          <label>Reply Required:</label>
          <select name="reply_required" id="reply_required" required>
            <option value="">Select Option</option>
            <option>Yes</option>
            <option>No</option>
          </select>
          <span id="err_reply_required" class="error"></span>

          <label>Reply Sent Date:</label>
          <input type="date" name="reply_sent_date" />

          <label>Reply Reference No.:</label>
          <input
            type="text"
            name="reply_ref_no"
            maxlength="100"
            placeholder="Reference Number"
          />
          <span id="err_reply_ref_no" class="error"></span>

          <label>Reply Sent By:</label>
          <select name="reply_sent_by">
            <option value="">Select Mode</option>
            <option>Speed Post</option>
            <option>Email</option>
          </select>

          <label>Reply Sent In:</label>
          <select name="reply_sent_in">
            <option value="">Select Language</option>
            <option>English</option>
            <option>Hindi</option>
            <option>Bilingual</option>
          </select>

          <label>Reply Count:</label>
          <input
            type="number"
            name="reply_count"
            min="0"
            max="9999"
            placeholder="Number of Replies"
          />
          <span id="err_reply_count" class="error"></span>
        </div>

        <div class="button-container">
          <button type="submit">Save Inward Entry</button>
        </div>
      </form>
    </div>


    <script src="js/form-validation.js"></script>

    <script>
      fetch("/session-info")
        .then(res => res.json())
        .then(data => {
          if (data?.user?.group) {
            const title = document.getElementById("formTitle");
            if (title) {
              title.textContent =
                `New Inward Correspondence Entry (${data.user.group})`;
            }
          }
        })
        .catch(() => {
          
        });
    </script>


  </body>
</html>
